(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],t=document.querySelector(".profile__edit-button"),n=document.querySelector("#edit-profile"),r=document.querySelector(".profile__title"),o=document.querySelector(".profile__subtitle"),c=document.querySelector("#popup__input-name"),p=document.querySelector("#popup__input-about");t.addEventListener("click",(function(){g(n),c.setAttribute("value",r.textContent),p.setAttribute("value",o.textContent)}));var u=document.querySelector(".profile__add-button"),l=document.querySelector("#popup-new-card");u.addEventListener("click",(function(){g(l),l.querySelector("#popup__form-new-card").reset()}));var a=document.querySelector("#popup__form-new-card"),s=a.querySelector("#popup__input-name"),i=a.querySelector("#popup__input-link");function d(e,t){var n=document.querySelector("#template-places__card").content.querySelector(".places__card").cloneNode(!0);n.querySelector(".places__title").textContent=e,n.querySelector(".places__image").alt="Изображение "+e,n.querySelector(".places__image").src=t;var r=n.querySelector(".places__trash-icon");r.addEventListener("click",(function(e){r.closest("div").remove()}));var o=n.querySelector(".places__like-icon");o.addEventListener("click",(function(e){o.classList.toggle("places__like-icon_active")}));var c=n.querySelector(".places__image");return c.addEventListener("click",(function(t){var n,r;n=c.src,r=e,S.setAttribute("src",n),S.setAttribute("alt","Изображение "+r),k.textContent=r,g(q)})),n}a.addEventListener("submit",(function(e){e.preventDefault(),y.prepend(d(s.value,i.value)),L(l)})),document.querySelectorAll(".popup__close").forEach((function(e){e.addEventListener("click",(function(t){L(t.target.closest(".popup")),"edit-profile"!==e.closest(".popup").id&&"popup-new-card"!==e.closest(".popup").id||t.target.closest(".popup").querySelector(".popup__form").reset()}))}));var _=document.querySelector("#popup__form"),m=_.querySelector("#popup__input-name"),v=_.querySelector("#popup__input-about");_.addEventListener("submit",(function(e){e.preventDefault(),r.textContent=m.value,o.textContent=v.value,L(n)}));for(var y=document.querySelector(".places"),f=0;f<e.length;f++)y.prepend(d(e[f].name,e[f].link));var q=document.querySelector("#popup-viewer"),S=q.querySelector(".popup__image"),k=q.querySelector(".popup__title");function g(e){e.classList.add("popup_opened"),document.addEventListener("keydown",(function(t){"Escape"===t.key&&L(e)})),e.addEventListener("click",(function(t){e===t.target&&L(e)}))}function L(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",(function(e){})),e.removeEventListener("click",(function(e){}))}})();